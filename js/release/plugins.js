var JOBCENTRE=window.JOBCENTRE||{};JOBCENTRE.utility={string:{truncate:function(c,a,b){if(!c||c.length<=a){return c}b||(b="...");if(a<=b.length){throw new Error("length must be larger than postfix length")}return c.substring(0,a-b.length)+b},escapeLiteral:function(a){return a.replace(/'/g,"\\x27").replace(/"/g,"\\x22")},stripHtml:function(b){var a=document.createElement("DIV");a.innerHTML=b;return a.textContent||a.innerText}},date:{isoTime:function(a){if(!a){return""}var b=a.split("T"),c=b[1].substr(0,5);return this.isoDate(a)+" "+c},isoDate:function(b){if(!b){return""}var d=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],e=b.split("-"),f=parseInt(e[0],10),c=parseInt(e[1],10),a=parseInt(e[2].substr(0,2),10);return d[c-1]+" "+a+", "+f},isoDateMonth:function(b){if(!b){return""}var d=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],e=b.split("-"),f=parseInt(e[0],10),c=parseInt(e[1],10),a=parseInt(e[2].substr(0,2),10);return d[c-1]+" "+f},format:function(a){var b=a.getDate().toString();if(b.length===1){b="0"+b}var c=(a.getMonth()+1).toString();if(c.length===1){c="0"+c}var e=a.getFullYear();return e+"-"+c+"-"+b}},engine:(function(){var a={ie:0,gecko:0,webkit:0,khtml:0,opera:0,version:null};if(window.opera){a.version=window.opera.version();a.opera=parseFloat(a.version)}else{if(/AppleWebKit\/(\S+)/.test(navigator.userAgent)){a.version=RegExp["$1"];a.webkit=parseFloat(a.version)}else{if(/KHTML\/(\S+)/.test(navigator.userAgent)){a.version=RegExp["$1"];a.khtml=parseFloat(a.version)}else{if(/rv:([^\)]+)\) Gecko\/\d{8}/.test(navigator.userAgent)){a.version=RegExp["$1"];a.gecko=parseFloat(a.version)}else{if(/MSIE ([^;]+)/.test(navigator.userAgent)){a.version=RegExp["$1"];a.ie=parseFloat(a.version)}}}}}return a}())};JOBCENTRE.capabilities={localStorage:(function(){try{localStorage.setItem("foo","foo");localStorage.removeItem("foo");return true}catch(a){return false}}()),oninput:(function(){if("oninput" in document.body){return true}if(/Firefox/.test(navigator.userAgent)){return true}return false}())};JOBCENTRE.lazyLoad=(function(){var b=null;if(/MSIE ([^;]+)/.test(navigator.userAgent)){var d=parseInt(RegExp["$1"],10);if(d){b={version:parseInt(d,10)}}}var a={};var c=function(j,g,f){f||(f={});var h=function(k){a[k].loaded=true;while(a[k].callbacks.length>0){a[k].callbacks.shift()()}};if(a[j]){if(a[j].loaded){g()}a[j].callbacks.push(g)}else{a[j]={loaded:false,callbacks:[g]};var i=document.createElement("script");i.type="text/javascript";i.async=true;i.src=j;for(var e in f){if(f.hasOwnProperty(e)){i.setAttribute(e,f[e])}}if(b&&b.version<9){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){h(j)}}}else{i.onload=function(){h(j)}}document.getElementsByTagName("head")[0].appendChild(i)}};return{js:c}}());JOBCENTRE.alertFloater={show:function(a){$(".alert-close").click(this.close);this.show=function(c){c=_.extend({summary:null,items:[]},c);var b=_.template($("#alert").html(),c);$(".alert-message").html(b);$(".alert-floater-wrapper").toggleClass("alert-error",!!c.isError).addClass("active");if(c.duration&&c.duration>0){setTimeout(function(){$(".alert-floater-wrapper").removeClass("active")},c.duration)}};this.show(a)},close:function(){$(".alert-floater-wrapper").removeClass("active")}};if(!String.prototype.trim){var s="[\x09\x0A-\x0D\x20\xA0\u1680\u180E\u2000-\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]";var trimBeginRegexp=new RegExp("^"+s+s+"*");var trimEndRegexp=new RegExp(s+s+"*$");String.prototype.trim=function trim(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}String.format=function(){var b=arguments[0],a=arguments.length-1;while(a--){b=b.replace(new RegExp("\\{"+a+"\\}","gm"),arguments[a+1])}return b};if(!Array.prototype.forEach){Array.prototype.forEach=function(a){if(this===void 0||this===null){throw new TypeError()}var d=Object(this);var c=d.length>>>0;if(typeof a!=="function"){throw new TypeError()}var e=arguments.length>=2?arguments[1]:void 0;for(var b=0;b<c;b++){if(b in d){a.call(e,d[b],b,d)}}}}if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(a){a.fn.placeholder=function(b){if(this[0]&&"placeholder" in document.createElement("input")){return}var b=a.extend({},a.fn.placeholder.config,b);return a(this).each(function(){var c=this;a(this).data("placeholder",a(this).attr("placeholder"));if(a(this).val()===""){a(this).val(a(this).data("placeholder")).addClass(b.onClass)}a(this).closest("form").submit(function(d){if(a(c).val()===a(c).data("placeholder")){a(c).val("").removeClass(b.onClass)}})}).bind("focus",function(){if(a(this).val()===a(this).data("placeholder")){a(this).val("").removeClass(b.onClass)}}).bind("blur",function(){if(a(this).val()===""){a(this).val(a(this).data("placeholder")).addClass(b.onClass)}})};a.fn.placeholder.config={onClass:"placeholder"}})(jQuery);(function(){var L=this;var H=L._;var d={};var c=Array.prototype,G=Object.prototype,n=Function.prototype;var I=c.push,M=c.slice,e=c.concat,N=G.toString,p=G.hasOwnProperty;var w=c.forEach,B=c.map,C=c.reduce,D=c.reduceRight,v=c.filter,u=c.every,E=c.some,x=c.indexOf,A=c.lastIndexOf,y=Array.isArray,z=Object.keys,t=n.bind;var a=function(O){if(O instanceof a){return O}if(!(this instanceof a)){return new a(O)}this._wrapped=O};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=a}exports._=a}else{L._=a}a.VERSION="1.4.3";var g=a.each=a.forEach=function(T,Q,O){if(T==null){return}if(w&&T.forEach===w){T.forEach(Q,O)}else{if(T.length===+T.length){for(var P=0,S=T.length;P<S;P++){if(Q.call(O,T[P],P,T)===d){return}}}else{for(var R in T){if(a.has(T,R)){if(Q.call(O,T[R],R,T)===d){return}}}}}};a.map=a.collect=function(Q,P,O){var R=[];if(Q==null){return R}if(B&&Q.map===B){return Q.map(P,O)}g(Q,function(U,S,T){R[R.length]=P.call(O,U,S,T)});return R};var J="Reduce of empty array with no initial value";a.reduce=a.foldl=a.inject=function(S,Q,R,O){var P=arguments.length>2;if(S==null){S=[]}if(C&&S.reduce===C){if(O){Q=a.bind(Q,O)}return P?S.reduce(Q,R):S.reduce(Q)}g(S,function(V,T,U){if(!P){R=V;P=true}else{R=Q.call(O,R,V,T,U)}});if(!P){throw new TypeError(J)}return R};a.reduceRight=a.foldr=function(U,Q,T,O){var P=arguments.length>2;if(U==null){U=[]}if(D&&U.reduceRight===D){if(O){Q=a.bind(Q,O)}return P?U.reduceRight(Q,T):U.reduceRight(Q)}var S=U.length;if(S!==+S){var R=a.keys(U);S=R.length}g(U,function(X,V,W){V=R?R[--S]:--S;if(!P){T=U[V];P=true}else{T=Q.call(O,T,U[V],V,W)}});if(!P){throw new TypeError(J)}return T};a.find=a.detect=function(Q,P,O){var R;b(Q,function(U,S,T){if(P.call(O,U,S,T)){R=U;return true}});return R};a.filter=a.select=function(Q,P,O){var R=[];if(Q==null){return R}if(v&&Q.filter===v){return Q.filter(P,O)}g(Q,function(U,S,T){if(P.call(O,U,S,T)){R[R.length]=U}});return R};a.reject=function(Q,P,O){return a.filter(Q,function(T,R,S){return !P.call(O,T,R,S)},O)};a.every=a.all=function(Q,P,O){P||(P=a.identity);var R=true;if(Q==null){return R}if(u&&Q.every===u){return Q.every(P,O)}g(Q,function(U,S,T){if(!(R=R&&P.call(O,U,S,T))){return d}});return !!R};var b=a.some=a.any=function(Q,P,O){P||(P=a.identity);var R=false;if(Q==null){return R}if(E&&Q.some===E){return Q.some(P,O)}g(Q,function(U,S,T){if(R||(R=P.call(O,U,S,T))){return d}});return !!R};a.contains=a.include=function(O,P){if(O==null){return false}if(x&&O.indexOf===x){return O.indexOf(P)!=-1}return b(O,function(Q){return Q===P})};a.invoke=function(Q,P){var O=M.call(arguments,2);return a.map(Q,function(R){return(a.isFunction(P)?P:R[P]).apply(R,O)})};a.pluck=function(P,O){return a.map(P,function(Q){return Q[O]})};a.where=function(P,O){if(a.isEmpty(O)){return[]}return a.filter(P,function(R){for(var Q in O){if(O[Q]!==R[Q]){return false}}return true})};a.max=function(Q,P,O){if(!P&&a.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.max.apply(Math,Q)}if(!P&&a.isEmpty(Q)){return -Infinity}var R={computed:-Infinity,value:-Infinity};g(Q,function(V,T,U){var S=P?P.call(O,V,T,U):V;S>=R.computed&&(R={value:V,computed:S})});return R.value};a.min=function(Q,P,O){if(!P&&a.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.min.apply(Math,Q)}if(!P&&a.isEmpty(Q)){return Infinity}var R={computed:Infinity,value:Infinity};g(Q,function(V,T,U){var S=P?P.call(O,V,T,U):V;S<R.computed&&(R={value:V,computed:S})});return R.value};a.shuffle=function(P){var Q;var O=0;var R=[];g(P,function(S){Q=a.random(O++);R[O-1]=R[Q];R[Q]=S});return R};var r=function(O){return a.isFunction(O)?O:function(P){return P[O]}};a.sortBy=function(Q,R,O){var P=r(R);return a.pluck(a.map(Q,function(U,S,T){return{value:U,index:S,criteria:P.call(O,U,S,T)}}).sort(function(U,V){var S=U.criteria;var T=V.criteria;if(S!==T){if(S>T||S===void 0){return 1}if(S<T||T===void 0){return -1}}return U.index<V.index?-1:1}),"value")};var o=function(R,T,P,O){var S={};var Q=r(T||a.identity);g(R,function(W,U){var V=Q.call(P,W,U,R);O(S,V,W)});return S};a.groupBy=function(P,Q,O){return o(P,Q,O,function(S,R,T){(a.has(S,R)?S[R]:(S[R]=[])).push(T)})};a.countBy=function(P,Q,O){return o(P,Q,O,function(S,R){if(!a.has(S,R)){S[R]=0}S[R]++})};a.sortedIndex=function(O,U,R,P){R=R==null?a.identity:r(R);var V=R.call(P,U);var S=0,Q=O.length;while(S<Q){var T=(S+Q)>>>1;R.call(P,O[T])<V?S=T+1:Q=T}return S};a.toArray=function(O){if(!O){return[]}if(a.isArray(O)){return M.call(O)}if(O.length===+O.length){return a.map(O,a.identity)}return a.values(O)};a.size=function(O){if(O==null){return 0}return(O.length===+O.length)?O.length:a.keys(O).length};a.first=a.head=a.take=function(O,Q,P){if(O==null){return void 0}return(Q!=null)&&!P?M.call(O,0,Q):O[0]};a.initial=function(O,Q,P){return M.call(O,0,O.length-((Q==null)||P?1:Q))};a.last=function(O,Q,P){if(O==null){return void 0}if((Q!=null)&&!P){return M.call(O,Math.max(O.length-Q,0))}else{return O[O.length-1]}};a.rest=a.tail=a.drop=function(O,Q,P){return M.call(O,(Q==null)||P?1:Q)};a.compact=function(O){return a.filter(O,a.identity)};var m=function(O,Q,P){g(O,function(R){if(a.isArray(R)){Q?I.apply(P,R):m(R,Q,P)}else{P.push(R)}});return P};a.flatten=function(O,P){return m(O,P,[])};a.without=function(O){return a.difference(O,M.call(arguments,1))};a.uniq=a.unique=function(O,R,S,P){if(a.isFunction(R)){P=S;S=R;R=false}var Q=S?a.map(O,S,P):O;var T=[];var U=[];g(Q,function(W,V){if(R?(!V||U[U.length-1]!==W):!a.contains(U,W)){U.push(W);T.push(O[V])}});return T};a.union=function(){return a.uniq(e.apply(c,arguments))};a.intersection=function(O){var P=M.call(arguments,1);return a.filter(a.uniq(O),function(Q){return a.every(P,function(R){return a.indexOf(R,Q)>=0})})};a.difference=function(O){var P=e.apply(c,M.call(arguments,1));return a.filter(O,function(Q){return !a.contains(P,Q)})};a.zip=function(){var O=M.call(arguments);var Q=a.max(a.pluck(O,"length"));var R=new Array(Q);for(var P=0;P<Q;P++){R[P]=a.pluck(O,""+P)}return R};a.object=function(Q,S){if(Q==null){return{}}var R={};for(var O=0,P=Q.length;O<P;O++){if(S){R[Q[O]]=S[O]}else{R[Q[O][0]]=Q[O][1]}}return R};a.indexOf=function(O,R,Q){if(O==null){return -1}var P=0,S=O.length;if(Q){if(typeof Q=="number"){P=(Q<0?Math.max(0,S+Q):Q)}else{P=a.sortedIndex(O,R);return O[P]===R?P:-1}}if(x&&O.indexOf===x){return O.indexOf(R,Q)}for(;P<S;P++){if(O[P]===R){return P}}return -1};a.lastIndexOf=function(O,S,P){if(O==null){return -1}var Q=P!=null;if(A&&O.lastIndexOf===A){return Q?O.lastIndexOf(S,P):O.lastIndexOf(S)}var R=(Q?P:O.length);while(R--){if(O[R]===S){return R}}return -1};a.range=function(R,T,S){if(arguments.length<=1){T=R||0;R=0}S=arguments[2]||1;var P=Math.max(Math.ceil((T-R)/S),0);var O=0;var Q=new Array(P);while(O<P){Q[O++]=R;R+=S}return Q};var f=function(){};a.bind=function(R,Q){var O,P;if(R.bind===t&&t){return t.apply(R,M.call(arguments,1))}if(!a.isFunction(R)){throw new TypeError}O=M.call(arguments,2);return P=function(){if(!(this instanceof P)){return R.apply(Q,O.concat(M.call(arguments)))}f.prototype=R.prototype;var T=new f;f.prototype=null;var S=R.apply(T,O.concat(M.call(arguments)));if(Object(S)===S){return S}return T}};a.bindAll=function(P){var O=M.call(arguments,1);if(O.length==0){O=a.functions(P)}g(O,function(Q){P[Q]=a.bind(P[Q],P)});return P};a.memoize=function(O,P){var Q={};P||(P=a.identity);return function(){var R=P.apply(this,arguments);return a.has(Q,R)?Q[R]:(Q[R]=O.apply(this,arguments))}};a.delay=function(P,Q){var O=M.call(arguments,2);return setTimeout(function(){return P.apply(null,O)},Q)};a.defer=function(O){return a.delay.apply(a,[O,1].concat(M.call(arguments,1)))};a.throttle=function(Q,V){var P,O,U,T;var S=0;var R=function(){S=new Date;U=null;T=Q.apply(P,O)};return function(){var W=new Date;var X=V-(W-S);P=this;O=arguments;if(X<=0){clearTimeout(U);U=null;S=W;T=Q.apply(P,O)}else{if(!U){U=setTimeout(R,X)}}return T}};a.debounce=function(O,S,P){var R,Q;return function(){var V=this,T=arguments;var W=function(){R=null;if(!P){Q=O.apply(V,T)}};var U=P&&!R;clearTimeout(R);R=setTimeout(W,S);if(U){Q=O.apply(V,T)}return Q}};a.once=function(O){var Q=false,P;return function(){if(Q){return P}Q=true;P=O.apply(this,arguments);O=null;return P}};a.wrap=function(O,P){return function(){var Q=[O];I.apply(Q,arguments);return P.apply(this,Q)}};a.compose=function(){var O=arguments;return function(){var P=arguments;for(var Q=O.length-1;Q>=0;Q--){P=[O[Q].apply(this,P)]}return P[0]}};a.after=function(P,O){if(P<=0){return O()}return function(){if(--P<1){return O.apply(this,arguments)}}};a.keys=z||function(Q){if(Q!==Object(Q)){throw new TypeError("Invalid object")}var P=[];for(var O in Q){if(a.has(Q,O)){P[P.length]=O}}return P};a.values=function(P){var Q=[];for(var O in P){if(a.has(P,O)){Q.push(P[O])}}return Q};a.pairs=function(P){var Q=[];for(var O in P){if(a.has(P,O)){Q.push([O,P[O]])}}return Q};a.invert=function(P){var Q={};for(var O in P){if(a.has(P,O)){Q[P[O]]=O}}return Q};a.functions=a.methods=function(Q){var P=[];for(var O in Q){if(a.isFunction(Q[O])){P.push(O)}}return P.sort()};a.extend=function(O){g(M.call(arguments,1),function(Q){if(Q){for(var P in Q){O[P]=Q[P]}}});return O};a.pick=function(Q){var O={};var P=e.apply(c,M.call(arguments,1));g(P,function(R){if(R in Q){O[R]=Q[R]}});return O};a.omit=function(R){var O={};var Q=e.apply(c,M.call(arguments,1));for(var P in R){if(!a.contains(Q,P)){O[P]=R[P]}}return O};a.defaults=function(O){g(M.call(arguments,1),function(Q){if(Q){for(var P in Q){if(O[P]==null){O[P]=Q[P]}}}});return O};a.clone=function(O){if(!a.isObject(O)){return O}return a.isArray(O)?O.slice():a.extend({},O)};a.tap=function(P,O){O(P);return P};var j=function(O,R,Q,T){if(O===R){return O!==0||1/O==1/R}if(O==null||R==null){return O===R}if(O instanceof a){O=O._wrapped}if(R instanceof a){R=R._wrapped}var U=N.call(O);if(U!=N.call(R)){return false}switch(U){case"[object String]":return O==String(R);case"[object Number]":return O!=+O?R!=+R:(O==0?1/O==1/R:O==+R);case"[object Date]":case"[object Boolean]":return +O==+R;case"[object RegExp]":return O.source==R.source&&O.global==R.global&&O.multiline==R.multiline&&O.ignoreCase==R.ignoreCase}if(typeof O!="object"||typeof R!="object"){return false}var W=Q.length;while(W--){if(Q[W]==O){return T[W]==R}}Q.push(O);T.push(R);var Y=0,X=true;if(U=="[object Array]"){Y=O.length;X=Y==R.length;if(X){while(Y--){if(!(X=j(O[Y],R[Y],Q,T))){break}}}}else{var P=O.constructor,S=R.constructor;if(P!==S&&!(a.isFunction(P)&&(P instanceof P)&&a.isFunction(S)&&(S instanceof S))){return false}for(var V in O){if(a.has(O,V)){Y++;if(!(X=a.has(R,V)&&j(O[V],R[V],Q,T))){break}}}if(X){for(V in R){if(a.has(R,V)&&!(Y--)){break}}X=!Y}}Q.pop();T.pop();return X};a.isEqual=function(O,P){return j(O,P,[],[])};a.isEmpty=function(P){if(P==null){return true}if(a.isArray(P)||a.isString(P)){return P.length===0}for(var O in P){if(a.has(P,O)){return false}}return true};a.isElement=function(O){return !!(O&&O.nodeType===1)};a.isArray=y||function(O){return N.call(O)=="[object Array]"};a.isObject=function(O){return O===Object(O)};g(["Arguments","Function","String","Number","Date","RegExp"],function(O){a["is"+O]=function(P){return N.call(P)=="[object "+O+"]"}});if(!a.isArguments(arguments)){a.isArguments=function(O){return !!(O&&a.has(O,"callee"))}}if(typeof(/./)!=="function"){a.isFunction=function(O){return typeof O==="function"}}a.isFinite=function(O){return isFinite(O)&&!isNaN(parseFloat(O))};a.isNaN=function(O){return a.isNumber(O)&&O!=+O};a.isBoolean=function(O){return O===true||O===false||N.call(O)=="[object Boolean]"};a.isNull=function(O){return O===null};a.isUndefined=function(O){return O===void 0};a.has=function(P,O){return p.call(P,O)};a.noConflict=function(){L._=H;return this};a.identity=function(O){return O};a.times=function(S,R,P){var O=Array(S);for(var Q=0;Q<S;Q++){O[Q]=R.call(P,Q)}return O};a.random=function(P,O){if(O==null){O=P;P=0}return P+(0|Math.random()*(O-P+1))};var h={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};h.unescape=a.invert(h.escape);var i={escape:new RegExp("["+a.keys(h.escape).join("")+"]","g"),unescape:new RegExp("("+a.keys(h.unescape).join("|")+")","g")};a.each(["escape","unescape"],function(O){a[O]=function(P){if(P==null){return""}return(""+P).replace(i[O],function(Q){return h[O][Q]})}});a.result=function(O,P){if(O==null){return null}var Q=O[P];return a.isFunction(Q)?Q.call(O):Q};a.mixin=function(O){g(a.functions(O),function(Q){var P=a[Q]=O[Q];a.prototype[Q]=function(){var R=[this._wrapped];I.apply(R,arguments);return K.call(this,P.apply(a,R))}})};var q=0;a.uniqueId=function(P){var O=""+ ++q;return P?P+O:O};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/;var l={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var k=/\\|'|\r|\n|\t|\u2028|\u2029/g;a.template=function(W,O,T){T=a.defaults({},T,a.templateSettings);var R=new RegExp([(T.escape||F).source,(T.interpolate||F).source,(T.evaluate||F).source].join("|")+"|$","g");var Q=0;var U="__p+='";W.replace(R,function(aa,X,Z,Y,ab){U+=W.slice(Q,ab).replace(k,function(ac){return"\\"+l[ac]});if(X){U+="'+\n((__t=("+X+"))==null?'':_.escape(__t))+\n'"}if(Z){U+="'+\n((__t=("+Z+"))==null?'':__t)+\n'"}if(Y){U+="';\n"+Y+"\n__p+='"}Q=ab+aa.length;return aa});U+="';\n";if(!T.variable){U="with(obj||{}){\n"+U+"}\n"}U="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+U+"return __p;\n";try{var S=new Function(T.variable||"obj","_",U)}catch(P){P.source=U;throw P}if(O){return S(O,a)}var V=function(X){return S.call(this,X,a)};V.source="function("+(T.variable||"obj")+"){\n"+U+"}";return V};a.chain=function(O){return a(O).chain()};var K=function(O){return this._chain?a(O).chain():O};a.mixin(a);g(["pop","push","reverse","shift","sort","splice","unshift"],function(P){var O=c[P];a.prototype[P]=function(){var Q=this._wrapped;O.apply(Q,arguments);if((P=="shift"||P=="splice")&&Q.length===0){delete Q[0]}return K.call(this,Q)}});g(["concat","join","slice"],function(P){var O=c[P];a.prototype[P]=function(){return K.call(this,O.apply(this._wrapped,arguments))}});a.extend(a.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var v=this;var t=v.Backbone;var b=[];var u=b.push;var z=b.slice;var B=b.splice;var d;if(typeof exports!=="undefined"){d=exports}else{d=v.Backbone={}}d.VERSION="0.9.10";var a=v._;if(!a&&(typeof require!=="undefined")){a=require("underscore")}d.$=v.jQuery||v.Zepto||v.ender;d.noConflict=function(){v.Backbone=t;return this};d.emulateHTTP=false;d.emulateJSON=false;var j=/\s+/;var i=function(N,H,L,O){if(!L){return true}if(typeof L==="object"){for(var J in L){N[H].apply(N,[J,L[J]].concat(O))}}else{if(j.test(L)){var M=L.split(j);for(var I=0,K=M.length;I<K;I++){N[H].apply(N,[M[I]].concat(O))}}else{return true}}};var D=function(J,H){var I,K=-1,L=J.length;switch(H.length){case 0:while(++K<L){(I=J[K]).callback.call(I.ctx)}return;case 1:while(++K<L){(I=J[K]).callback.call(I.ctx,H[0])}return;case 2:while(++K<L){(I=J[K]).callback.call(I.ctx,H[0],H[1])}return;case 3:while(++K<L){(I=J[K]).callback.call(I.ctx,H[0],H[1],H[2])}return;default:while(++K<L){(I=J[K]).callback.apply(I.ctx,H)}}};var h=d.Events={on:function(K,H,I){if(!(i(this,"on",K,[H,I])&&H)){return this}this._events||(this._events={});var J=this._events[K]||(this._events[K]=[]);J.push({callback:H,context:I,ctx:I||this});return this},once:function(J,H,I){if(!(i(this,"once",J,[H,I])&&H)){return this}var L=this;var K=a.once(function(){L.off(J,K);H.apply(this,arguments)});K._callback=H;this.on(J,K,I);return this},off:function(Q,H,I){var P,J,K,R,L,O,M,N;if(!this._events||!i(this,"off",Q,[H,I])){return this}if(!Q&&!H&&!I){this._events={};return this}R=Q?[Q]:a.keys(this._events);for(L=0,O=R.length;L<O;L++){Q=R[L];if(P=this._events[Q]){K=[];if(H||I){for(M=0,N=P.length;M<N;M++){J=P[M];if((H&&H!==J.callback&&H!==J.callback._callback)||(I&&I!==J.context)){K.push(J)}}}this._events[Q]=K}}return this},trigger:function(K){if(!this._events){return this}var I=z.call(arguments,1);if(!i(this,"trigger",K,I)){return this}var J=this._events[K];var H=this._events.all;if(J){D(J,I)}if(H){D(H,arguments)}return this},listenTo:function(L,K,H){var J=this._listeners||(this._listeners={});var I=L._listenerId||(L._listenerId=a.uniqueId("l"));J[I]=L;L.on(K,typeof K==="object"?this:H,this);return this},stopListening:function(L,K,H){var J=this._listeners;if(!J){return}if(L){L.off(K,typeof K==="object"?this:H,this);if(!K&&!H){delete J[L._listenerId]}}else{if(typeof K==="object"){H=this}for(var I in J){J[I].off(K,H,this)}this._listeners={}}return this}};h.bind=h.on;h.unbind=h.off;a.extend(d,h);var p=d.Model=function(H,K){var J;var I=H||{};this.cid=a.uniqueId("c");this.attributes={};if(K&&K.collection){this.collection=K.collection}if(K&&K.parse){I=this.parse(I,K)||{}}if(J=a.result(this,"defaults")){I=a.defaults({},I,J)}this.set(I,K);this.changed={};this.initialize.apply(this,arguments)};a.extend(p.prototype,h,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(H){return a.clone(this.attributes)},sync:function(){return d.sync.apply(this,arguments)},get:function(H){return this.attributes[H]},escape:function(H){return a.escape(this.get(H))},has:function(H){return this.get(H)!=null},set:function(N,T,P){var H,I,S,J,R,K,Q,L;if(N==null){return this}if(typeof N==="object"){I=N;P=T}else{(I={})[N]=T}P||(P={});if(!this._validate(I,P)){return false}S=P.unset;R=P.silent;J=[];K=this._changing;this._changing=true;if(!K){this._previousAttributes=a.clone(this.attributes);this.changed={}}L=this.attributes,Q=this._previousAttributes;if(this.idAttribute in I){this.id=I[this.idAttribute]}for(H in I){T=I[H];if(!a.isEqual(L[H],T)){J.push(H)}if(!a.isEqual(Q[H],T)){this.changed[H]=T}else{delete this.changed[H]}S?delete L[H]:L[H]=T}if(!R){if(J.length){this._pending=true}for(var M=0,O=J.length;M<O;M++){this.trigger("change:"+J[M],this,L[J[M]],P)}}if(K){return this}if(!R){while(this._pending){this._pending=false;this.trigger("change",this,P)}}this._pending=false;this._changing=false;return this},unset:function(H,I){return this.set(H,void 0,a.extend({},I,{unset:true}))},clear:function(J){var H={};for(var I in this.attributes){H[I]=void 0}return this.set(H,a.extend({},J,{unset:true}))},hasChanged:function(H){if(H==null){return !a.isEmpty(this.changed)}return a.has(this.changed,H)},changedAttributes:function(J){if(!J){return this.hasChanged()?a.clone(this.changed):false}var L,I=false;var K=this._changing?this._previousAttributes:this.attributes;for(var H in J){if(a.isEqual(K[H],(L=J[H]))){continue}(I||(I={}))[H]=L}return I},previous:function(H){if(H==null||!this._previousAttributes){return null}return this._previousAttributes[H]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(H){H=H?a.clone(H):{};if(H.parse===void 0){H.parse=true}var I=H.success;H.success=function(J,L,K){if(!J.set(J.parse(L,K),K)){return false}if(I){I(J,L,K)}};return this.sync("read",this,H)},save:function(J,N,L){var I,M,K,O,H=this.attributes;if(J==null||typeof J==="object"){I=J;L=N}else{(I={})[J]=N}if(I&&(!L||!L.wait)&&!this.set(I,L)){return false}L=a.extend({validate:true},L);if(!this._validate(I,L)){return false}if(I&&L.wait){this.attributes=a.extend({},H,I)}if(L.parse===void 0){L.parse=true}M=L.success;L.success=function(P,R,Q){P.attributes=H;var S=P.parse(R,Q);if(Q.wait){S=a.extend(I||{},S)}if(a.isObject(S)&&!P.set(S,Q)){return false}if(M){M(P,R,Q)}};K=this.isNew()?"create":(L.patch?"patch":"update");if(K==="patch"){L.attrs=I}O=this.sync(K,this,L);if(I&&L.wait){this.attributes=H}return O},destroy:function(J){J=J?a.clone(J):{};var I=this;var K=J.success;var H=function(){I.trigger("destroy",I,I.collection,J)};J.success=function(M,O,N){if(N.wait||M.isNew()){H()}if(K){K(M,O,N)}};if(this.isNew()){J.success(this,null,J);return false}var L=this.sync("delete",this,J);if(!J.wait){H()}return L},url:function(){var H=a.result(this,"urlRoot")||a.result(this.collection,"url")||E();if(this.isNew()){return H}return H+(H.charAt(H.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(I,H){return I},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(H){return !this.validate||!this.validate(this.attributes,H)},_validate:function(H,J){if(!J.validate||!this.validate){return true}H=a.extend({},this.attributes,H);var I=this.validationError=this.validate(H,J)||null;if(!I){return true}this.trigger("invalid",this,I,J||{});return false}});var e=d.Collection=function(H,I){I||(I={});if(I.model){this.model=I.model}if(I.comparator!==void 0){this.comparator=I.comparator}this.models=[];this._reset();this.initialize.apply(this,arguments);if(H){this.reset(H,a.extend({silent:true},I))}};a.extend(e.prototype,h,{model:p,initialize:function(){},toJSON:function(H){return this.map(function(I){return I.toJSON(H)})},sync:function(){return d.sync.apply(this,arguments)},add:function(P,Q){P=a.isArray(P)?P.slice():[P];Q||(Q={});var M,N,O,J,L,K,H,I,R,S;H=[];I=Q.at;R=this.comparator&&(I==null)&&Q.sort!=false;S=a.isString(this.comparator)?this.comparator:null;for(M=0,N=P.length;M<N;M++){if(!(O=this._prepareModel(J=P[M],Q))){this.trigger("invalid",this,J,Q);continue}if(L=this.get(O)){if(Q.merge){L.set(J===O?O.attributes:J,Q);if(R&&!K&&L.hasChanged(S)){K=true}}continue}H.push(O);O.on("all",this._onModelEvent,this);this._byId[O.cid]=O;if(O.id!=null){this._byId[O.id]=O}}if(H.length){if(R){K=true}this.length+=H.length;if(I!=null){B.apply(this.models,[I,0].concat(H))}else{u.apply(this.models,H)}}if(K){this.sort({silent:true})}if(Q.silent){return this}for(M=0,N=H.length;M<N;M++){(O=H[M]).trigger("add",O,this,Q)}if(K){this.trigger("sort",this,Q)}return this},remove:function(L,M){L=a.isArray(L)?L.slice():[L];M||(M={});var H,J,I,K;for(H=0,J=L.length;H<J;H++){K=this.get(L[H]);if(!K){continue}delete this._byId[K.id];delete this._byId[K.cid];I=this.indexOf(K);this.models.splice(I,1);this.length--;if(!M.silent){M.index=I;K.trigger("remove",K,this,M)}this._removeReference(K)}return this},push:function(H,I){H=this._prepareModel(H,I);this.add(H,a.extend({at:this.length},I));return H},pop:function(I){var H=this.at(this.length-1);this.remove(H,I);return H},unshift:function(H,I){H=this._prepareModel(H,I);this.add(H,a.extend({at:0},I));return H},shift:function(I){var H=this.at(0);this.remove(H,I);return H},slice:function(H,I){return this.models.slice(H,I)},get:function(H){if(H==null){return void 0}this._idAttr||(this._idAttr=this.model.prototype.idAttribute);return this._byId[H.id||H.cid||H[this._idAttr]||H]},at:function(H){return this.models[H]},where:function(H){if(a.isEmpty(H)){return[]}return this.filter(function(J){for(var I in H){if(H[I]!==J.get(I)){return false}}return true})},sort:function(H){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}H||(H={});if(a.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(a.bind(this.comparator,this))}if(!H.silent){this.trigger("sort",this,H)}return this},pluck:function(H){return a.invoke(this.models,"get",H)},update:function(N,O){O=a.extend({add:true,merge:true,remove:true},O);if(O.parse){N=this.parse(N,O)}var L,J,K,I;var H=[],P=[],M={};if(!a.isArray(N)){N=N?[N]:[]}if(O.add&&!O.remove){return this.add(N,O)}for(J=0,K=N.length;J<K;J++){L=N[J];I=this.get(L);if(O.remove&&I){M[I.cid]=true}if((O.add&&!I)||(O.merge&&I)){H.push(L)}}if(O.remove){for(J=0,K=this.models.length;J<K;J++){L=this.models[J];if(!M[L.cid]){P.push(L)}}}if(P.length){this.remove(P,O)}if(H.length){this.add(H,O)}return this},reset:function(J,K){K||(K={});if(K.parse){J=this.parse(J,K)}for(var H=0,I=this.models.length;H<I;H++){this._removeReference(this.models[H])}K.previousModels=this.models.slice();this._reset();if(J){this.add(J,a.extend({silent:true},K))}if(!K.silent){this.trigger("reset",this,K)}return this},fetch:function(H){H=H?a.clone(H):{};if(H.parse===void 0){H.parse=true}var I=H.success;H.success=function(J,M,L){var K=L.update?"update":"reset";J[K](M,L);if(I){I(J,M,L)}};return this.sync("read",this,H)},create:function(I,J){J=J?a.clone(J):{};if(!(I=this._prepareModel(I,J))){return false}if(!J.wait){this.add(I,J)}var H=this;var K=J.success;J.success=function(L,N,M){if(M.wait){H.add(L,M)}if(K){K(L,N,M)}};I.save(null,J);return I},parse:function(I,H){return I},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=0;this._byId={}},_prepareModel:function(H,J){if(H instanceof p){if(!H.collection){H.collection=this}return H}J||(J={});J.collection=this;var I=new this.model(H,J);if(!I._validate(H,J)){return false}return I},_removeReference:function(H){if(this===H.collection){delete H.collection}H.off("all",this._onModelEvent,this)},_onModelEvent:function(I,J,H,K){if((I==="add"||I==="remove")&&H!==this){return}if(I==="destroy"){this.remove(J,K)}if(J&&I==="change:"+J.idAttribute){delete this._byId[J.previous(J.idAttribute)];if(J.id!=null){this._byId[J.id]=J}}this.trigger.apply(this,arguments)},sortedIndex:function(J,K,H){K||(K=this.comparator);var I=a.isFunction(K)?K:function(L){return L.get(K)};return a.sortedIndex(this.models,J,I,H)}});var o=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(o,function(H){e.prototype[H]=function(){var I=z.call(arguments);I.unshift(this.models);return a[H].apply(a,I)}});var c=["groupBy","countBy","sortBy"];a.each(c,function(H){e.prototype[H]=function(K,I){var J=a.isFunction(K)?K:function(L){return L.get(K)};return a[H](this.models,J,I)}});var x=d.Router=function(H){H||(H={});if(H.routes){this.routes=H.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var q=/(\(\?)?:\w+/g;var A=/\*\w+/g;var g=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(x.prototype,h,{initialize:function(){},route:function(J,I,H){if(!a.isRegExp(J)){J=this._routeToRegExp(J)}if(!H){H=this[I]}d.history.route(J,a.bind(function(L){var K=this._extractParameters(J,L);H&&H.apply(this,K);this.trigger.apply(this,["route:"+I].concat(K));this.trigger("route",I,K);d.history.trigger("route",this,I,K)},this));return this},navigate:function(H,I){d.history.navigate(H,I);return this},_bindRoutes:function(){if(!this.routes){return}var H,I=a.keys(this.routes);while((H=I.pop())!=null){this.route(H,this.routes[H])}},_routeToRegExp:function(H){H=H.replace(g,"\\$&").replace(r,"(?:$1)?").replace(q,function(I,J){return J?I:"([^/]+)"}).replace(A,"(.*?)");return new RegExp("^"+H+"$")},_extractParameters:function(I,H){return I.exec(H).slice(1)}});var l=d.History=function(){this.handlers=[];a.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var y=/^[#\/]|\s+$/g;var w=/^\/+|\/+$/g;var m=/msie [\w.]+/;var C=/\/$/;l.started=false;a.extend(l.prototype,h,{interval:50,getHash:function(I){var H=(I||this).location.href.match(/#(.*)$/);return H?H[1]:""},getFragment:function(I,H){if(I==null){if(this._hasPushState||!this._wantsHashChange||H){I=this.location.pathname;var J=this.root.replace(C,"");if(!I.indexOf(J)){I=I.substr(J.length)}}else{I=this.getHash()}}return I.replace(y,"")},start:function(M){if(l.started){throw new Error("Backbone.history has already been started")}l.started=true;this.options=a.extend({},{root:"/"},this.options,M);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var J=this.getFragment();var I=document.documentMode;var L=(m.exec(navigator.userAgent.toLowerCase())&&(!I||I<=7));this.root=("/"+this.root+"/").replace(w,"/");if(L&&this._wantsHashChange){this.iframe=d.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(J)}if(this._hasPushState){d.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!L){d.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=J;var K=this.location;var H=K.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!H){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&H&&K.hash){this.fragment=this.getHash().replace(y,"");this.history.replaceState({},document.title,this.root+this.fragment+K.search)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){d.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);l.started=false},route:function(I,H){this.handlers.unshift({route:I,callback:H})},checkUrl:function(I){var H=this.getFragment();if(H===this.fragment&&this.iframe){H=this.getFragment(this.getHash(this.iframe))}if(H===this.fragment){return false}if(this.iframe){this.navigate(H)}this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(I){var H=this.fragment=this.getFragment(I);var J=a.any(this.handlers,function(K){if(K.route.test(H)){K.callback(H);return true}});return J},navigate:function(H,I){if(!l.started){return false}if(!I||I===true){I={trigger:I}}H=this.getFragment(H||"");if(this.fragment===H){return}this.fragment=H;var J=this.root+H;if(this._hasPushState){this.history[I.replace?"replaceState":"pushState"]({},document.title,J)}else{if(this._wantsHashChange){this._updateHash(this.location,H,I.replace);if(this.iframe&&(H!==this.getFragment(this.getHash(this.iframe)))){if(!I.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,H,I.replace)}}else{return this.location.assign(J)}}if(I.trigger){this.loadUrl(H)}},_updateHash:function(J,H,K){if(K){var I=J.href.replace(/(javascript:|#).*$/,"");J.replace(I+"#"+H)}else{J.hash="#"+H}}});d.history=new l;var F=d.View=function(H){this.cid=a.uniqueId("view");this._configure(H||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var f=/^(\S+)\s*(.*)$/;var G=["model","collection","el","id","attributes","className","tagName","events"];a.extend(F.prototype,h,{tagName:"div",$:function(H){return this.$el.find(H)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(I,H){if(this.$el){this.undelegateEvents()}this.$el=I instanceof d.$?I:d.$(I);this.el=this.$el[0];if(H!==false){this.delegateEvents()}return this},delegateEvents:function(I){if(!(I||(I=a.result(this,"events")))){return}this.undelegateEvents();for(var J in I){var L=I[J];if(!a.isFunction(L)){L=this[I[J]]}if(!L){throw new Error('Method "'+I[J]+'" does not exist')}var K=J.match(f);var H=K[1],M=K[2];L=a.bind(L,this);H+=".delegateEvents"+this.cid;if(M===""){this.$el.on(H,L)}else{this.$el.on(H,M,L)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(H){if(this.options){H=a.extend({},a.result(this,"options"),H)}a.extend(this,a.pick(H,G));this.options=H},_ensureElement:function(){if(!this.el){var I=a.extend({},a.result(this,"attributes"));if(this.id){I.id=a.result(this,"id")}if(this.className){I["class"]=a.result(this,"className")}var H=d.$("<"+a.result(this,"tagName")+">").attr(I);this.setElement(H,false)}else{this.setElement(a.result(this,"el"),false)}}});var n={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};d.sync=function(J,K,L){var O=n[J];a.defaults(L||(L={}),{emulateHTTP:d.emulateHTTP,emulateJSON:d.emulateJSON});var M={type:O,dataType:"json"};if(!L.url){M.url=a.result(K,"url")||E()}if(L.data==null&&K&&(J==="create"||J==="update"||J==="patch")){M.contentType="application/json";M.data=JSON.stringify(L.attrs||K.toJSON(L))}if(L.emulateJSON){M.contentType="application/x-www-form-urlencoded";M.data=M.data?{model:M.data}:{}}if(L.emulateHTTP&&(O==="PUT"||O==="DELETE"||O==="PATCH")){M.type="POST";if(L.emulateJSON){M.data._method=O}var H=L.beforeSend;L.beforeSend=function(Q){Q.setRequestHeader("X-HTTP-Method-Override",O);if(H){return H.apply(this,arguments)}}}if(M.type!=="GET"&&!L.emulateJSON){M.processData=false}var N=L.success;L.success=function(Q){if(N){N(K,Q,L)}K.trigger("sync",K,Q,L)};var I=L.error;L.error=function(Q){if(I){I(K,Q,L)}K.trigger("error",K,Q,L)};var P=L.xhr=d.ajax(a.extend(M,L));K.trigger("request",K,P,L);return P};d.ajax=function(){return d.$.ajax.apply(d.$,arguments)};var k=function(J,K){var I=this;var H;if(J&&a.has(J,"constructor")){H=J.constructor}else{H=function(){return I.apply(this,arguments)}}a.extend(H,I,K);var L=function(){this.constructor=H};L.prototype=I.prototype;H.prototype=new L;if(J){a.extend(H.prototype,J)}H.__super__=I.prototype;return H};p.extend=e.extend=x.extend=F.extend=l.extend=k;var E=function(){throw new Error('A "url" property or function must be specified')}}).call(this);