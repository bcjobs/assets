var JOBCENTRE=window.JOBCENTRE||{};JOBCENTRE.jobApply=(function(a){var o,q,C,u;var F=function(H){F={applications:H+"jobapplications",resumes:H+"resumes",formResume:H+"resumes/form",fetchResume:H+"resumes/fetch",logResumeError:H+"resumes/logerror",countries:"/api/v1.1/countries",provinces:"/api/v1.1/provinces?countryId=:id"}};var f=Backbone.Model.extend({_validators:{required:function(K,H,L,I,J){if(!L||(L+"").trim()==""){J.push({attr:H,message:K.message||(" is required")})}},maxLength:function(K,H,L,I,J){if(!L||(L+"").trim()==""){return}if(L.trim().length>K.max){J.push({attr:H,message:K.message||String.format(" exceeds {0} characters",K.max)})}},regex:function(K,H,L,I,J){if(!L||(L+"").trim()==""){return}if(!K.pattern.test(L.trim())){J.push({attr:H,message:K.message||(" is invalid")})}},custom:function(K,H,M,I,J){if(!K.isValid){throw new Error("isValid missing for custom validation")}var L=K.isValid(K,H,M,I);if(L===true){return}if(L===false){J.push({attr:H,message:K.message});return}if(_.isString(L)){J.push({attr:H,message:L});return}throw new Error("validity not supported.")}},isValid:function(){if(!this.validations){return true}var I=[];for(var H in this.attributes){if(!this.attributes.hasOwnProperty(H)){continue}if(!this.validations[H]){continue}var K=this.validations[H];for(var J in K){if(!K.hasOwnProperty(J)){continue}if(!this._validators[J]){throw new Error("Validation "+J+" not supported.")}this._validators[J](K[J],H,this.attributes[H],this.attributes,I)}}if(I.length>0){this.trigger("validation-error",this,I);return false}else{return true}},ajaxSuccess:function(I,J,K,H){this.set(this.parse(J,H));if(this.state){this.state.set({ready:true})}if(I.success){I.success(this,J)}},ajaxError:function(L,K,N,I){if(K.status===400){var M=JSON.parse(K.responseText);if(L.error){L.error(this,M.message)}else{var J=["ValidationException","InvalidOperationException"];if(_.indexOf(J,M.error.type)!==-1){this.trigger("validation-error",this,[M.message])}}return}var H=["Error connecting to the server."];if(L.error){L.error(this,H)}else{this.trigger("error",this,H)}}});var D=Backbone.Model.extend({defaults:{ready:false,error:null}});var h=Backbone.Model.extend({collection:Backbone.Collection,listName:"",url:"",initialize:function(){this._loading=false;this._loaded=false;this._list=new this.collection()},getList:function(){if(!this._loaded){this._load()}return this._list},_load:function(){var H=this;if(!this._loading){this._list.state.set({ready:false,error:null});this._loading=true;var I=this.url;if(_.isFunction(I)){I=I.call(this)}a.ajax({url:I,dataType:"json",cache:true,type:"GET",success:function(K,L,J){H._list.reset(K.data);H._list.state.set({ready:true,error:null});H._loaded=true},error:function(K,L,J){H._list.state.set({error:String.format("Error retrieving {0} list.",H.listName)})},complete:function(J,K){H._loading=false}})}}});var m=Backbone.Model.extend({initialize:function(){this.provinceCache=new x(null,{countryId:this.id})}});var l=Backbone.Collection.extend({model:m,initialize:function(){this.state=new D()}});var n=h.extend({collection:l,listName:"country",url:function(){return F.countries},getCountries:function(){return this.getList()}});var w=Backbone.Model.extend({});var y=Backbone.Collection.extend({model:w,initialize:function(){this.state=new D()}});var x=h.extend({collection:y,listName:"province",url:function(){return F.provinces.replace(":id",this._countryId)},initialize:function(H,I){h.prototype.initialize.call(this,H,I);this._countryId=I.countryId},getProvinces:function(){return this.getList()}});var z=f.extend({defaults:{state:"",fileName:"",fileSize:0,token:null,progress:0,error:null},restore:function(){this.set({state:"",fileName:"",fileSize:0,token:null,progress:0,error:null})},setError:function(H){this.restore();this.set({state:"error",error:H})},setUploading:function(H){this.restore();this.set({state:"uploading"})},setResume:function(I,H){this.restore();this.set({state:"uploaded",token:I,fileName:H})},removeResume:function(){this.restore();this.set({state:"idle"})},setFileSize:function(H){if(H===0){this.set({fileSize:"? KB"})}else{if(H>1024*1024){this.set({fileSize:(Math.round(H*100/(1024*1024))/100).toString()+"MB"})}else{this.set({fileSize:(Math.round(H*100/1024)/100).toString()+"KB"})}}},isUploaded:function(){return this.get("state")==="uploaded"},isUploading:function(){return this.get("state")==="uploading"},send:function(J,H){var I=new FormData();I.append("file",J);var K=new XMLHttpRequest();K.upload.addEventListener("progress",H.progress,false);K.addEventListener("load",H.load,false);K.addEventListener("error",H.error,false);K.addEventListener("abort",H.abort,false);K.open("POST",F.resumes);K.setRequestHeader("Accept","application/json");K.send(I)},fetch:function(K,I,H,J){J||(J={});var L=this;a.ajax({url:F.fetchResume,contentType:"application/json",data:JSON.stringify({url:I,accessToken:H,source:K}),dataType:"json",type:"POST",success:function(N,O,M){if(J.success){J.success(L,N)}},error:_.bind(L.ajaxError,L,J)})}});var c=f.extend({defaults:{jobId:null,resumeToken:null,firstName:"",lastName:"",email:"",phone:"",countryId:"",provinceId:"",city:"",coverLetter:"",resumeSource:null},validations:{resumeToken:{required:{message:"Resume is required."}},firstName:{required:{},maxLength:{max:128}},lastName:{required:{},maxLength:{max:128}},email:{required:{},maxLength:{max:256},regex:{pattern:/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*$/}},phone:{maxLength:{max:20},regex:{pattern:/^[\d-\.()\+\s]+$/}},city:{required:{},maxLength:{max:50}},provinceId:{required:{}},countryId:{required:{}}},save:function(I){I||(I={});var J=this;var H=this.toJSON();if(H.provinceId){H.province={id:H.provinceId};delete H.provinceId}if(H.countryId){H.country={id:H.countryId};delete H.countryId}if(q){H.eid=q}a.ajax({url:F.applications,contentType:"application/json",data:JSON.stringify(H),dataType:"json",type:"POST",success:function(L,M,K){J.set(J.parse(L,K));if(I.success){I.success(J,L)}if(JOBCENTRE.jobRecommendation&&JOBCENTRE.jobRecommendation.apply){JOBCENTRE.jobRecommendation.apply(J.get("jobId"))}},error:function(N,P,L){if(N.status===400){var O=JSON.parse(N.responseText);if(I.error){I.error(J,[O.message]);return}var M=["ValidationException","InvalidOperationException"];if(_.indexOf(M,O.type)!==-1){J.trigger("validation-error",J,[O.message]);return}}var K=["Error connecting to the server."];if(I.error){I.error(J,K)}else{J.trigger("error",J,K)}}})}});var b=Backbone.Model.extend({defaults:{status:"",error:false}});var g=function(H){this.parent=null;this.children=[];Backbone.View.apply(this,[H])};_.extend(g.prototype,Backbone.View.prototype,{errorTemplate:_.template(a("#error").html()),loaderClass:"flex-loader",renderState:function(H){if(H.get("error")){a(this.el).html(this.errorTemplate({error:H.get("error")}));return true}if(!H.get("ready")){this.renderLoader(this.el);return true}return false},renderLoader:function(H){var I=document.createElement("div");I.className=this.loaderClass;a(H).empty().append(I)},addChildren:function(H){var I,J=this;if(_.isArray(H)){I=H}else{I=_.toArray(arguments)}_.each(I,function(K){J.children.push(K);K.parent=J});if(I.length===1){return I[0]}else{return I}},disposeChildren:function(H){if(!H){return}var J=this;var I=_.isArray(H)?H:_.toArray(arguments);_.each(I,function(K){K.dispose()})},disposeAllChildren:function(){var H=this.children.slice(0);_.each(H,function(I){I.dispose()})},dispose:function(){this.disposeAllChildren();this.remove();this._removeFromParent()},_removeFromParent:function(){if(this.parent){this.parent._removeChild(this)}},_removeChild:function(H){var I=_.indexOf(this.children,H);if(I!==-1){this.children.splice(I,1)}}});g.extend=Backbone.View.extend;var e=function(H){g.apply(this,[H]);_.bindAll(this,"onSaveSuccess");this.listenTo(this.model,"error",this.onError,this);this.listenTo(this.model,"validation-error",this.onValidationError,this);if(this.model.state){this.listenTo(this.model.state,"change",this.render)}if(H.countries){this._currentProvinces=null;this.listenTo(H.countries.state,"change",this.render)}};_.extend(e.prototype,g.prototype,{_validatable:false,events:{submit:"onSubmit","keyup input,textarea":"onKeyup","change select,input":"onChange",validate:"validateIfReady"},onCancelClick:function(){},onSaveSuccess:function(H,I){},onError:function(I,H){this.onValidationError(I,H)},onValidationError:function(L,J){var H=this.$('[data-element="alert_danger_server"]');H.html("");for(var K=J.length;K--;){var I=J[K];if(_.isString(I)){H.html(I).show()}else{this.$("input[name="+I.attr+"],textarea[name="+I.attr+"],select[name="+I.attr+"]").each(function(){if(this.tagName==="SELECT"){a(this).siblings(".select2-container").addClass("error")}else{a(this).addClass("error")}}).closest(".form-group").find(".form-error").html(I.message).show()}}this.onSaveError()},errorOnSubmit:function(){},onSubmit:function(H){H.preventDefault();this._validatable=true;this.mapToModel();if(this.isValid()){this.save()}else{this.errorOnSubmit()}},mapToModel:function(){var H={};var N=this.$("form").serializeArray();for(var K=0,L=N.length;K<L;K++){if(N[K].name==="provinceId"){var J=this.$("select[name=countryId]").val();if(J){var I=this.options.countries.get(J);if(I){var M=I.provinceCache.getProvinces();if(!M.state.get("ready")){continue}}}}H[N[K].name]=N[K].value}this.formPreProcess(H);this.model.set(H)},isValid:function(){this.$(".error").removeClass("error");this.$('[data-element="alert_danger_server"]').hide();this.$(".form-error").hide();return this.model.isValid()},formPreProcess:function(H){},onKeyup:function(H){if(H.which===13){return}this.mapToModel();this.validateIfReady()},onChange:function(I){var H=a(I.currentTarget);if(H.attr("name")==="countryId"){this.onCountryChange()}this.mapToModel();this.validateIfReady()},validateIfReady:function(){if(this._validatable){this.isValid()}},onCountryChange:function(){var I=this.$("select[name=countryId]").val();if(I){var H=this.options.countries.get(I);var J=H.provinceCache.getProvinces();this._currentProvinces=J;if(!J.state.get("ready")){this.$("select[name=provinceId]").closest('[data-element="province_input_section"]').append('<div data-element="loader" class="flex-relative"><span class="flex-loader-mini"></span></div>').find(".select2-container").hide();this.listenTo(J.state,"change",this.renderProvinces);return}this.renderProvinces(J.state)}},renderProvinces:function(J){if(this._currentProvinces.state!==J){return}var K=this;var H=this.$("select[name=provinceId]");H.closest('[data-element="province_input_section"]').find('[data-element="loader"]').remove().end().find(".select2-container").show();if(J.get("error")){JOBCENTRE.alertFloater.show({summary:J.get("error"),isError:true,duration:5000});return}if(!J.get("ready")){throw new Error("Provinces not ready.")}var I=[];I.push('<option value=""></option>');this._currentProvinces.each(function(L){I.push(String.format('<option value="{0}"{1}>{2}</option>',L.id,K.model.get("provinceId")==L.id?' selected="selected"':"",L.get("name")))});H.html(I.join("")).trigger("change")},renderCountries:function(){var I=this,H=[];H.push('<option value=""></option>');this.options.countries.each(function(J){H.push(String.format('<option value="{0}"{1}>{2}</option>',J.id,I.model.get("countryId")==J.id?' selected="selected"':"",J.get("name")))});this.$("select[name=countryId]").html(H.join("")).change()},bindSelect2:function(){var I=this;var H=function(){I.$("select").select2()};if(!a.contains(document.documentElement,this.el)){setTimeout(H,10)}else{H()}}});e.extend=g.extend;var v=g.extend({template:_.template(a("#page").html()),render:function(){this.$el.html(this.template());var H=new t({application:this.options.application,applicationForm:this.options.form,job:this.options.job});this.$('[data-outlet="application"]').append(H.render().el);var I=new r({form:this.options.form,application:this.options.application,resume:this.options.resume,countries:this.options.countries});this.$('[data-outlet="application"]').append(I.render().el);return this}});var t=g.extend({template:_.template(a("#message").html()),submittedTemplate:_.template(a("#message_submitted").html()),submittingTemplate:_.template(a("#message_submitting").html()),initialize:function(H){this.listenTo(H.application,"change",this.onChange)},events:{"click [data-action=joblist]":"onJoblistClick"},onJoblistClick:function(){navigate("jobs-clear",true)},onChange:function(){if(!this.options.application.get("status")){this.$el.hide();return}if(this.options.application.get("status")==="submitting"){this.$('[data-outlet="message"]').html(this.submittingTemplate());this.$el.show();a("html,body").scrollTop(this.$el.offset().top);return}if(this.options.application.get("status")==="submitted"){this.$('[data-outlet="message"]').html(this.submittedTemplate(this.options.applicationForm.toJSON()));this.$el.show();if(window.dataLayer){dataLayer.push({event:"custom",eventCategory:"App",eventAction:"JobApplication",eventLabel:undefined,nonInteraction:false})}var H=this.addChildren(new k({form:this.options.applicationForm,job:this.options.job}));this.$('[data-outlet="cta"]').append(H.render().el);return}},render:function(){this.$el.html(this.template()).hide();return this}});var k=g.extend({renderSignup:function(){this.disposeAllChildren();var H=this.addChildren(new j({form:this.options.form}));this.$el.append(H.render().el)},renderPublishProfile:function(){this.disposeAllChildren();var H=this.addChildren(new i());this.$el.append(H.render().el)},render:function(){if(u==="signup"){this.renderSignup(false)}else{if(u==="publish_profile"){this.renderPublishProfile()}}return this}});var j=g.extend({template:_.template(a("#call_to_action_signup").html()),render:function(){this.$el.html(this.template({form:this.options.form.toJSON()}));this.$('[data-element="signup_modal"]').modal();return this}});var i=g.extend({template:_.template(a("#call_to_action_publish_profile").html()),render:function(){this.$el.html(this.template());return this}});var r=g.extend({template:_.template(a("#forms_wrapper").html()),className:"clearfix",initialize:function(H){this.listenTo(H.application,"change:status",this.onChange);this.listenTo(H.application,"change:error",this.onError)},onChange:function(){if(this.options.application.get("status")){this.$el.hide()}else{this.$el.show()}},onError:function(I,J){if(!J){return}var H=this.$('[data-element="error_message"]:visible,.form-error:visible').first();if(H.length>0){if((a("html").scrollTop()||a("body").scrollTop())>H.offset().top){a("html,body").animate({scrollTop:H.parent().offset().top},500)}}this.options.application.set({error:false})},render:function(){this.$el.html(this.template());var I=this.addChildren(new B({model:this.options.resume,form:this.options.form}));this.$el.append(I.render().el);var H=this.addChildren(new d({model:this.options.form,resume:this.options.resume,application:this.options.application,countries:this.options.countries}));this.$el.append(H.render().el);return this}});var B=g.extend({template:_.template(a("#resume").html()),uploadingTemplate:_.template(a("#resume_uploading").html()),progressTemplate:_.template(a("#resume_progress").html()),tokenTemplate:_.template(a("#resume_token").html()),errorTemplate:_.template(a("#resume_error").html()),initialize:function(){this.resumeUploadView=null;this.listenTo(this.model,"change:state",this.onStateChange);this.listenTo(this.model,"change:progress",this.onProgressChange);this.listenTo(this.model,"change:token",this.updateResult)},events:{"click [data-action]":"onActionClick"},onActionClick:function(H){switch(a(H.currentTarget).data("action")){case"remove_resume":this.model.removeResume();break;default:throw new Error()}},renderButton:function(){this.renderUploadButton();this.$('[data-outlet="file_uploaders"]').append(this.addChildren(new p({model:this.model,form:this.options.form})).render().el);this.onStateChange(this.model,this.model.get("state"))},onSubmitResume:function(){this.$("form").submit()},showButton:function(){this.$('[data-element="upload_title"]').show();this.$('[data-outlet="file_uploaders"]').show();this.disposeChildren(this.resumeUploadView);this.renderUploadButton()},renderUploadButton:function(){this.resumeUploadView=this.addChildren(A.create({model:this.model,form:this.options.form}));this.resumeUploadView.on("submit-resume",this.onSubmitResume,this);this.$('[data-outlet="file_uploaders"]').prepend(this.resumeUploadView.render().el)},hideButton:function(){this.$('[data-outlet="file_uploaders"]').hide();this.$('[data-element="upload_title"]').hide()},onStateChange:function(H,I){switch(I){case"":break;case"idle":this.showButton();break;case"uploading":this.$('[data-element="error_message"]').html("").hide();this.$('[data-element="upload_progress"]').html(this.uploadingTemplate(this.model.toJSON())).show();this.hideButton();return;case"uploaded":this.$('[data-element="error_message"]').html("").hide();this.$('[data-element="upload_progress"]').html("").hide();this.hideButton();return;case"error":this.$('[data-element="error_message"]').html(this.errorTemplate(this.model.toJSON())).show();this.$('[data-element="upload_progress"]').html("").hide();this.showButton();break;default:throw new Error(String.format("State {0} not supported.",I))}},onProgressChange:function(I,H){if(H){this.$('[data-element="upload_progress"]').html(this.progressTemplate(this.model.toJSON())).show()}},updateResult:function(){if(this.model.get("token")){this.$('[data-element="upload_result"]').html(this.tokenTemplate(this.model.toJSON())).show()}else{this.$('[data-element="upload_result"]').html("").hide()}},render:function(){this.$el.html(this.template(this.model));this.renderButton();this.updateResult();return this}});var E=g.extend({validate:function(J,I){if(J>1*1024*1024){return"File exceeds 1 MB."}var H=_.last(I.split(".")).toLowerCase();switch(H){case"docx":case"doc":case"rtf":case"pdf":case"txt":break;default:return"Only Word, Plain Text, PDF, RTF file types allowed."}},processResponse:function(H){this.model.setResume(H.file.token,H.file.name);this.fillForm(H.form);this.setSource()},fillForm:function(I){if(!I){return}var H={};this.fillFormField(H,I,"firstName");this.fillFormField(H,I,"lastName");this.fillFormField(H,I,"email");this.fillFormField(H,I,"city");this.fillFormField(H,I,"phone");this.fillFormFieldObject(H,I,"countryId",["country","id"]);this.fillFormFieldObject(H,I,"provinceId",["province","id"]);this.options.form.set(H,{updateForm:true})},fillFormField:function(H,I,J){if(I[J]&&!this.options.form.get(J)){H[J]=I[J]}},fillFormFieldObject:function(H,I,K,J){if(this.options.form.get(K)){return}H[K]=this.findValue(I,J)},findValue:function(H,J){var I=J.shift();if(!I){return H}if(!H[I]){return null}return this.findValue(H[I],J)},setSource:function(){this.options.form.set("resumeSource",this.source)}});var A=E.extend({source:null,template:_.template(a("#resume_upload").html()),events:{'change [data-element="file_input"]':"initializeUpload"},initializeUpload:function(){this.model.setUploading();this.uploadResume()},render:function(){this.$el.html(this.template(this.model));return this}},{create:function(H){if(window.FormData){return new G(H)}else{return new s(H)}}});var G=A.extend({uploadResume:function(){var H=this.$('[data-element="file_input"]')[0].files[0];if(!H){this.model.setError("File could not be selected.");return}if(this.validate(H.size,H.name)){this.model.setError(this.validate(H.size,H.name));new Image().src=F.logResumeError+"?source=upload&location=client&name="+encodeURIComponent(H.name)+"&size="+encodeURIComponent(H.size);return}this.model.set({fileName:H.name});this.model.setFileSize(H.size);this.model.send(H,{progress:_.bind(this.progress,this),load:_.bind(this.load,this),error:_.bind(this.error,this),abort:_.bind(this.abort,this)})},progress:function(H){if(!H.lengthComputable){return}var I=Math.round(H.loaded*100/H.total);this.model.set({progress:I})},load:function(H){try{var J=JSON.parse(H.target.responseText);if(H.target.status!==200){this.model.setError(J.message);return}this.processResponse(J)}catch(I){this.model.setError("Upload failed.")}},error:function(){this.model.setError("Upload failed.")},abort:function(){this.model.setError("Upload cancelled.")}});var s=A.extend({uploadResume:function(){window.uploadComplete=_.bind(this.load,this);document.getElementById("resume_upload_target").onload=_.bind(this.load,this);this.trigger("submit-resume")},load:function(H,I){if(!I){try{I=window.frames.resume_upload_target.document.getElementsByTagName("body")[0].innerHTML;I=JSON.parse(I)}catch(H){this.model.setError("Upload failed.");return}}if(I.success){this.processResponse(I.data)}else{this.model.setError(I.data.message)}}});var p=E.extend({source:"Dropbox",template:_.template(a("#dropbox_upload").html()),events:{"click a":"onClick"},onClick:function(H){var I=this;H.preventDefault();Dropbox.choose({linkType:"direct",success:function(J){if(J.length<1){I.model.setError("File could not be selected.");return}if(I.validate(J[0].bytes,J[0].name)){I.model.setError(I.validate(J[0].bytes,J[0].name));new Image().src=F.logResumeError+"?source=dropbox&location=client&name="+encodeURIComponent(J[0].name)+"&size="+encodeURIComponent(J[0].bytes);return}I.model.setUploading();I.model.set({fileName:J[0].name});I.model.setFileSize(J[0].bytes);I.model.fetch("Dropbox",J[0].link,null,{success:_.bind(I.success,I),error:_.bind(I.error,I)})},cancel:function(){}})},success:function(I,H){this.processResponse(H)},error:function(I,H){this.model.setError(H)},onScriptLoaded:function(){if(Dropbox.isBrowserSupported()){this.$el.html(this.template(this.model))}},render:function(){JOBCENTRE.lazyLoad.js("https://www.dropbox.com/static/api/1/dropins.js",_.bind(this.onScriptLoaded,this),{id:"dropboxjs","data-app-key":o});return this}});var d=e.extend({template:_.template(a("#application_form").html()),className:"apply-form flex-relative",initialize:function(H){this.submitPendingResume=false;this.listenTo(H.resume,"change:token",this.onTokenChange);this.listenTo(H.resume,"change:state",this.onResumeStateChange);this.listenTo(this.model,"change",this.onModelChange)},onTokenChange:function(){this.trigger("validate")},onResumeStateChange:function(H,I){if(this.submitPendingResume){this.submitPendingResume=true;this.$("button").show();this.$('[data-element="waiting_for_upload"]').hide();if(I==="uploaded"){this.$("form").submit()}}},onSubmit:function(H){if(!this.options.resume.isUploaded()){H.preventDefault();if(this.options.resume.isUploading()){this.$("button").hide();this.$('[data-element="waiting_for_upload"]').show();this.submitPendingResume=true}else{this.options.resume.setError("Resume is required.");this.errorOnSubmit()}return}e.prototype.onSubmit.call(this,H)},onSaveSuccess:function(){this.options.application.set({status:"submitted"})},onSaveError:function(){this.options.application.set({status:""})},errorOnSubmit:function(){this.options.application.set({error:true})},save:function(){this.options.application.set({status:"submitting"});this.model.save({success:_.bind(this.onSaveSuccess,this)})},formPreProcess:function(H){H.resumeToken=this.options.resume.get("token")},onModelChange:function(H,I){if(!I.updateForm){return}var K=this;var J=false;this.$("input[name],select[name]").each(function(){var L=a(this).attr("name");if(a(this).val()!=K.model.get(L)){a(this).val(K.model.get(L));if(this.tagName==="SELECT"){J=true}}});if(J){this.$("select[name]").trigger("change")}},render:function(){if(this.renderState(this.options.countries.state)){return this}this.$el.html(this.template({form:this.model}));this.renderCountries();this.bindSelect2();return this}});return{init:function(I){o=I.dropboxAppKey;F(I.restPath);q=I.eid;C=I.site.provinceCode;u=I.onApplyCallToAction;var H=new n();var J=new v({application:new b(),form:new c(I.form),resume:new z(I.resume),countries:H.getCountries(),job:I.job});a('[data-outlet="page"]').append(J.render().el)}}}(jQuery));